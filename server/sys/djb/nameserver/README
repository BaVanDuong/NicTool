$Id: README 549 2007-02-24 20:34:02Z matt $

Installing an exporting daemon

install.pl: this install script can be used to easily create a new export daemon to export your data to a nameserver.

(NOTE: you must have run "make" in the sys/djb directory before running install.pl)

usage: ./install.pl 

You will be prompted to enter the following values:

    directory: path for the installed update daemon
    nsid:	   the database ID of the nameserver
    user:	   the name of the user who will run the process
    loguser:   the name of the user who will run the log
    NT_DB_HOST_NAME: 	the database hostname
    NT_DB_NAME:		the name of the database
    NT_DB_USERNAME:	the name of the database user
    NT_DB_PASSWORD:	the password of the database user
    NT_DB_TYPE:		the type of the database 
    exportopts: 	any commandline flags for nt_export_djb.pl.  default is "-r -md5 -force -noserials -buildcdb"

This creates a directory (directory) which contains a run script, a log directory, an env directory, a copy of nt_export_djb and nt_export_djb.pl. 
You can then use this directory with daemontools to export your NicTool data to a nameserver via rsync with ssh.  You should make sure to set the "export_interval" value for the nameserver to something other than NULL.

(NOTE: look at sys/djb/nt_export_djb.pl for information about that script)

The resultant nameserver directory is suitable for linking into /service.  Note that the options passed to nt_export_djb.pl will cause it not to compare the md5 sum before rsyncing. (md5 summing could save you some bandwidth)

